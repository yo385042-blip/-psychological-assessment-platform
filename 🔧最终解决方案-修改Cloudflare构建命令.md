# ğŸ”§ æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼šä¿®æ”¹ Cloudflare æ„å»ºå‘½ä»¤

## ğŸ¯ é—®é¢˜åˆ†æ

**æ ¸å¿ƒé—®é¢˜ï¼š**
- `terser` åœ¨ `package-lock.json` ä¸­è¢«æ ‡è®°ä¸º `"peer": true`ï¼ˆå› ä¸º Vite å£°æ˜å®ƒä¸ºå¯é€‰ peer dependencyï¼‰
- `npm ci` åœ¨æ£€æŸ¥æ—¶å‘ç° `package.json` ä¸­æœ‰ `terser`ï¼Œä½† `package-lock.json` ä¸­æ ‡è®°ä¸º peer dependency
- è¿™å¯¼è‡´ `npm ci` è®¤ä¸ºä¸¤è€…ä¸åŒæ­¥è€Œå¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Missing: terser@5.44.1 from lock file
Missing: @jridgewell/source-map@0.3.11 from lock file
...
```

---

## âœ… æœ€ç»ˆè§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆï¼šä¿®æ”¹ Cloudflare Pages æ„å»ºå‘½ä»¤ï¼Œè·³è¿‡ `npm ci`

Cloudflare Pages åœ¨è¿è¡Œæ„å»ºå‘½ä»¤ä¹‹å‰æ€»æ˜¯å…ˆè¿è¡Œ `npm ci`ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹æ„å»ºå‘½ä»¤æ¥è·³è¿‡è¿™ä¸ªé—®é¢˜ã€‚

---

## ğŸš€ æ“ä½œæ­¥éª¤

### æ­¥éª¤ 1ï¼šåœ¨ Cloudflare Dashboard ä¸­ä¿®æ”¹æ„å»ºå‘½ä»¤

1. **è®¿é—® Cloudflare Dashboard**
2. **è¿›å…¥ä½ çš„é¡¹ç›®**
3. **è¿›å…¥ "è®¾ç½®" (Settings)**
4. **æ‰¾åˆ° "æ„å»ºå’Œéƒ¨ç½²" (Builds & deployments) éƒ¨åˆ†**
5. **æ‰¾åˆ° "æ„å»ºå‘½ä»¤" (Build command) å­—æ®µ**
6. **ä¿®æ”¹ä¸ºï¼š**

```bash
npm install --legacy-peer-deps && npm run build
```

æˆ–è€…ï¼š

```bash
npm install --force && npm run build
```

**è¿™ä¸¤ç§æ–¹æ³•éƒ½ä¼šï¼š**
- è·³è¿‡ `npm ci` çš„ä¸¥æ ¼æ£€æŸ¥
- å…è®¸å®‰è£… peer dependencies
- ç»§ç»­æ„å»º

---

### æ­¥éª¤ 2ï¼šä¿å­˜è®¾ç½®å¹¶è§¦å‘æ–°éƒ¨ç½²

1. **ä¿å­˜è®¾ç½®**
2. **æ‰‹åŠ¨è§¦å‘é‡æ–°éƒ¨ç½²**ï¼Œæˆ–ç­‰å¾…è‡ªåŠ¨éƒ¨ç½²

---

## ğŸ“‹ æ›¿ä»£æ–¹æ¡ˆï¼šä» package.json ä¸­ç§»é™¤ terser

å¦‚æœä¿®æ”¹æ„å»ºå‘½ä»¤ä¸èµ·ä½œç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ï¼š

1. **ä» `package.json` ä¸­ç§»é™¤ `terser`**
2. **é‡æ–°ç”Ÿæˆ `package-lock.json`**
3. **Vite ä¼šä½¿ç”¨ esbuildï¼ˆé»˜è®¤ï¼Œä¸éœ€è¦ terserï¼‰**

---

## ğŸ¯ æ¨èæ–¹æ¡ˆ

**æ¨èä½¿ç”¨ç¬¬ä¸€ä¸ªæ–¹æ¡ˆï¼š** ä¿®æ”¹æ„å»ºå‘½ä»¤ä¸º `npm install --legacy-peer-deps && npm run build`

**åŸå› ï¼š**
- ä¸éœ€è¦ä¿®æ”¹ä»£ç 
- åªéœ€è¦åœ¨ Cloudflare Dashboard ä¸­ä¿®æ”¹ä¸€æ¬¡è®¾ç½®
- å¯ä»¥è§£å†³ peer dependency é—®é¢˜

---

## ğŸ“Š æ„å»ºå‘½ä»¤è¯´æ˜

### é€‰é¡¹ 1ï¼š`npm install --legacy-peer-deps && npm run build`

- ä½¿ç”¨æ—§çš„ peer dependency è§£ææ–¹å¼
- æ›´å®½æ¾çš„ä¾èµ–æ£€æŸ¥
- æ¨èä½¿ç”¨

### é€‰é¡¹ 2ï¼š`npm install --force && npm run build`

- å¼ºåˆ¶å®‰è£…æ‰€æœ‰ä¾èµ–
- å¿½ç•¥å†²çª
- ä¹Ÿå¯ä»¥å·¥ä½œï¼Œä½†å¯èƒ½å®‰è£…ä¸éœ€è¦çš„ä¾èµ–

---

## âœ… ç°åœ¨è¯·æ‰§è¡Œ

1. **è®¿é—® Cloudflare Dashboard**
2. **ä¿®æ”¹æ„å»ºå‘½ä»¤ä¸ºï¼š** `npm install --legacy-peer-deps && npm run build`
3. **ä¿å­˜è®¾ç½®**
4. **è§¦å‘æ–°éƒ¨ç½²**
5. **å‘Šè¯‰æˆ‘ç»“æœ**

