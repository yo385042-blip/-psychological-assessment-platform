# ğŸ”´ å…³é”®é—®é¢˜ï¼šç¼ºå°‘ `_redirects` æ–‡ä»¶

## âŒ é—®é¢˜åŸå› 

ä½ ä¸Šä¼ çš„æ–‡ä»¶åˆ—è¡¨ä¸­**ç¼ºå°‘ `_redirects` æ–‡ä»¶**ï¼

æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼ŒCloudflare Pages æ— æ³•æ­£ç¡®å¤„ç† SPAï¼ˆå•é¡µåº”ç”¨ï¼‰è·¯ç”±ï¼Œå¯¼è‡´ï¼š
- `ERR_CONNECTION_CLOSED` é”™è¯¯
- æ— æ³•è®¿é—®ä»»ä½•è·¯ç”±ï¼ˆé™¤äº†æ ¹è·¯å¾„ï¼‰
- åˆ·æ–°é¡µé¢æ—¶å‡ºç° 404 é”™è¯¯

---

## âœ… è§£å†³æ–¹æ¡ˆï¼šå¿…é¡»ä¸Šä¼  `_redirects` æ–‡ä»¶

### ğŸ“„ `_redirects` æ–‡ä»¶å†…å®¹

```
/*    /index.html   200
```

è¿™ä¸ªæ–‡ä»¶å‘Šè¯‰ Cloudflare Pagesï¼š
- æ‰€æœ‰è¯·æ±‚ï¼ˆ`/*`ï¼‰éƒ½åº”è¯¥è¿”å› `index.html`ï¼ˆçŠ¶æ€ç  200ï¼‰
- è®© React Router å¤„ç†å®¢æˆ·ç«¯è·¯ç”±

---

## ğŸ“‹ å®Œæ•´çš„æ–‡ä»¶ä¸Šä¼ åˆ—è¡¨

è¯·ç¡®ä¿ä¸Šä¼  **dist ç›®å½•**ä¸­çš„ä»¥ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼š

### âœ… æ ¹ç›®å½•ï¼ˆ3 ä¸ªæ–‡ä»¶ï¼‰
```
dist/
â”œâ”€â”€ index.html          âœ… å·²æœ‰
â”œâ”€â”€ _redirects          âŒ **ç¼ºå°‘ï¼å¿…é¡»æ·»åŠ ï¼**
â””â”€â”€ logo-cube.jpg       âœ… å·²æœ‰
```

### âœ… assets ç›®å½•ï¼ˆ6 ä¸ªæ–‡ä»¶ï¼‰
```
dist/assets/
â”œâ”€â”€ html2canvas.esm-BfxBtG_O.js   âœ… å·²æœ‰
â”œâ”€â”€ index-BoaVKOxD.js             âœ… å·²æœ‰
â”œâ”€â”€ index-DImtx3m1.css            âœ… å·²æœ‰
â”œâ”€â”€ index-mAYGN1jo.js             âœ… å·²æœ‰
â”œâ”€â”€ index.es-CrZdzf1L.js          âœ… å·²æœ‰
â””â”€â”€ purify.es-B6FQ9oRL.js         âœ… å·²æœ‰
```

### âœ… functions ç›®å½•ï¼ˆ1 ä¸ªæ–‡ä»¶ï¼‰
```
dist/functions/
â””â”€â”€ _middleware.js      âœ… å·²æœ‰ï¼ˆå·²ä¼˜åŒ–ï¼‰
```

---

## ğŸš€ ç«‹å³æ“ä½œæ­¥éª¤

### æ­¥éª¤ 1ï¼šç¡®è®¤ `_redirects` æ–‡ä»¶å­˜åœ¨

æ–‡ä»¶ä½ç½®ï¼š`dist/_redirects`

æ–‡ä»¶å†…å®¹åº”è¯¥æ˜¯ï¼š
```
/*    /index.html   200
```

### æ­¥éª¤ 2ï¼šé‡æ–°ä¸Šä¼ å®Œæ•´çš„ dist ç›®å½•

**æ–¹æ³• Aï¼šå‹ç¼©åä¸Šä¼ ï¼ˆæ¨èï¼‰**

1. å³é”®ç‚¹å‡» `dist` æ–‡ä»¶å¤¹
2. é€‰æ‹©"å‹ç¼©ä¸º ZIP æ–‡ä»¶"
3. åœ¨ Cloudflare Pages æ§åˆ¶å°ä¸Šä¼  `dist.zip`
4. Cloudflare ä¼šè‡ªåŠ¨è§£å‹

**æ–¹æ³• Bï¼šæ‰‹åŠ¨ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶**

1. ä¸Šä¼ æ ¹ç›®å½•æ–‡ä»¶ï¼ˆåŒ…æ‹¬ `_redirects`ï¼‰
2. ä¸Šä¼  `assets` ç›®å½•åŠå…¶æ‰€æœ‰æ–‡ä»¶
3. ä¸Šä¼  `functions` ç›®å½•åŠå…¶æ‰€æœ‰æ–‡ä»¶

---

## âœ… ä¸Šä¼ åéªŒè¯

1. **è¿›å…¥ Cloudflare Pages æ§åˆ¶å°**
   - Workers & Pages â†’ mindcube â†’ æœ€æ–°éƒ¨ç½²

2. **æŸ¥çœ‹"èµ„äº§å·²ä¸Šä¼ "æ ‡ç­¾**
   - ç¡®è®¤ `_redirects` æ–‡ä»¶å­˜åœ¨
   - ç¡®è®¤æ‰€æœ‰æ–‡ä»¶éƒ½å·²ä¸Šä¼ 

3. **æµ‹è¯•è®¿é—®**
   - è®¿é—®ç½‘ç«™æ ¹è·¯å¾„
   - è®¿é—® `/dashboard`
   - è®¿é—® `/login`
   - æ‰€æœ‰è·¯ç”±éƒ½åº”è¯¥æ­£å¸¸å·¥ä½œ

---

## ğŸ¯ ä¸ºä»€ä¹ˆ `_redirects` æ–‡ä»¶è¿™ä¹ˆé‡è¦ï¼Ÿ

### æ²¡æœ‰ `_redirects` æ–‡ä»¶çš„æƒ…å†µï¼š
- ç”¨æˆ·è®¿é—® `mindcube.pages.dev/dashboard` â†’ 404 é”™è¯¯
- Cloudflare æ‰¾ä¸åˆ° `/dashboard` è¿™ä¸ªæ–‡ä»¶
- å¯¼è‡´ `ERR_CONNECTION_CLOSED` æˆ– 404 é”™è¯¯

### æœ‰ `_redirects` æ–‡ä»¶çš„æƒ…å†µï¼š
- ç”¨æˆ·è®¿é—® `mindcube.pages.dev/dashboard` â†’ è¿”å› `index.html`
- React Router æ¥æ”¶è¯·æ±‚ï¼Œæ¸²æŸ“ `/dashboard` è·¯ç”±
- é¡µé¢æ­£å¸¸æ˜¾ç¤º âœ…

---

## ğŸ“ æ€»ç»“

**å…³é”®æ“ä½œï¼š**
1. âœ… ç¡®ä¿ `dist/_redirects` æ–‡ä»¶å­˜åœ¨
2. âœ… é‡æ–°ä¸Šä¼ å®Œæ•´çš„ dist ç›®å½•ï¼ˆåŒ…å« `_redirects`ï¼‰
3. âœ… éªŒè¯éƒ¨ç½²èµ„äº§åˆ—è¡¨åŒ…å« `_redirects`
4. âœ… æµ‹è¯•ç½‘ç«™è®¿é—®

å®Œæˆè¿™äº›æ­¥éª¤åï¼Œ`ERR_CONNECTION_CLOSED` é”™è¯¯åº”è¯¥å°±ä¼šè§£å†³ï¼

